(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/profile_image.5710e10c.jpg"},12:function(e,t,a){e.exports=a(17)},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),c=a.n(o),l=(a(6),a(1)),i=a(7),s=a.n(i);var m=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("img",{className:"logo",src:s.a,alt:"Around logo"}))},u=a(11),d=a(8),p=a(9),_=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(d.a)(this,e),this.baseUrl=a,this.headers=n}return Object(p.a)(e,[{key:"getAppInfo",value:function(){return Promise.all([this.getInitialCards(),this.getUserProfile()])}},{key:"getInitialCards",value:function(){return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getUserProfile",value:function(){return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"setUserAvatar",value:function(e){return fetch("".concat(this.baseUrl,"/users/me/avatar"),{headers:this.headers,method:"PATCH",body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"setUserProfile",value:function(e){var t=e.name,a=e.about;return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers,method:"PATCH",body:JSON.stringify({name:t,about:a})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"addCard",value:function(e){return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers,method:"POST",body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"deleteCard",value:function(e){var t=e._id;return fetch("".concat(this.baseUrl,"/cards/").concat(t),{headers:this.headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"updateLike",value:function(e){var t=e.cardIsLiked,a=e._id;return fetch("".concat(this.baseUrl,"/cards/likes/").concat(a),{headers:this.headers,method:t?"PUT":"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-1",headers:{authorization:"59b76db9-8593-4042-9d89-647c9c96a94c","Content-Type":"application/json"}});var f=function(e){return r.a.createElement("li",{className:"element"},r.a.createElement("div",{className:"element__image",role:"img",style:{backgroundImage:"url(".concat(e.card.link,")")},onClick:function(){e.onCardClick(e.card)}}),r.a.createElement("button",{className:"button button__delete button__delete_hidden"}),r.a.createElement("div",{className:"element__group"},r.a.createElement("h2",{className:"element__title"},e.card.name),r.a.createElement("div",{className:"element__like-container"},r.a.createElement("button",{className:"button button__like"}),r.a.createElement("div",{className:"element__likes"},"0"))))},h=a(10),E=a.n(h);var b=function(e){var t=Object(n.useState)(E.a),a=Object(l.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)("Michael Lawrence"),s=Object(l.a)(i,2),m=s[0],d=s[1],p=Object(n.useState)("..."),h=Object(l.a)(p,2),b=h[0],v=h[1],N=Object(n.useState)([]),g=Object(l.a)(N,2),k=g[0],y=g[1];return r.a.useEffect((function(){_.getUserProfile().then((function(e){c(e.avatar),d(e.name),v(e.about)})).catch((function(e){console.log(e)}))}),[o,m,b]),r.a.useEffect((function(){_.getInitialCards().then((function(e){e.forEach((function(t){y([].concat(Object(u.a)(e),[t]))}))})).catch((function(e){console.log(e)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"content"},r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"profile__avatar-container"},r.a.createElement("img",{className:"profile__avatar",src:o,alt:"profile avatar"}),r.a.createElement("button",{className:"button button__avatar",onClick:e.onEditAvatar})),r.a.createElement("div",{className:"profile__info"},r.a.createElement("h1",{className:"profile__name"},m),r.a.createElement("p",{className:"profile__about-me"},b),r.a.createElement("button",{className:"button button__edit",onClick:e.onEditProfile})),r.a.createElement("button",{className:"button button__add",onClick:e.onAddPlace})),r.a.createElement("section",{className:"elements"},r.a.createElement("ul",{className:"elements__container"},k.map((function(t,a){return r.a.createElement(f,{key:a,card:t,onCardClick:e.onCardClick})}))))))};var v=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__copyright"},"\xa9 2020 Around The U.S."))};var N=function(e){var t=r.a.createElement("div",{onClick:function(t){t.target.classList.contains("popup")&&e.onClose()},className:"popup popup_type_avatar ".concat(e.isOpen?"popup_opened":"")},r.a.createElement("div",{className:"popup__container"},r.a.createElement("button",{className:"popup__close-button",onClick:e.onClose}),r.a.createElement("h2",{className:"popup__title"},"Change profile picture"),e.children));return c.a.createPortal(t,document.getElementById("modal-root"))};var g=function(e){return r.a.createElement("div",{className:"popup popup_type_image ".concat(e.card?"popup_opened":""),onClick:function(t){t.target.classList.contains("popup")&&e.onClose()}},r.a.createElement("div",{className:"popup__container popup__container_type_image"},r.a.createElement("button",{className:"popup__close-button",onClick:e.onClose}),r.a.createElement("img",{className:"popup__image",src:e.card?e.card.link:"",alt:e.card?e.card.name:""}),r.a.createElement("p",{className:"popup__image-label"},e.card?e.card.name:"")))};var k=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),i=Object(l.a)(c,2),s=i[0],u=i[1],d=Object(n.useState)(!1),p=Object(l.a)(d,2),_=p[0],f=p[1],h=Object(n.useState)(!1),E=Object(l.a)(h,2),k=E[0],y=E[1],j=Object(n.useState)(),C=Object(l.a)(j,2),O=C[0],w=C[1];function P(){window.removeEventListener("keyup",L),f(!1),o(!1),u(!1),y(!1),w(!1)}function L(e){"Escape"===e.key&&P()}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page"},r.a.createElement(m,null),r.a.createElement(b,{onEditAvatar:function(){o(!0),window.addEventListener("keyup",L)},onEditProfile:function(){u(!0),window.addEventListener("keyup",L)},onAddPlace:function(){f(!0),window.addEventListener("keyup",L)},onDelete:function(){y(!0),window.addEventListener("keyup",L)},onCardClick:function(e){w(e),window.addEventListener("keyup",L)}}),r.a.createElement(v,null),r.a.createElement(N,{name:"avatar",title:"Change profile picture",isOpen:a,onClose:P},r.a.createElement("form",{action:"#",className:"form",name:"edit-avatar",noValidate:!0},r.a.createElement("label",{className:"form__field"},r.a.createElement("input",{className:"form__input form__input_type_url",type:"url",id:"url-input",title:"Image Link",name:"link",value:"",placeholder:"Image link",required:!0}),r.a.createElement("span",{className:"form__input-error form__input-error_active",id:"url-input-error"})),r.a.createElement("button",{className:"form__submit-button"},"Save"))),r.a.createElement(N,{name:"edit-profile",title:"Edit Profile",isOpen:s,onClose:P},r.a.createElement("form",{action:"#",className:"form",name:"edit-profile",noValidate:!0},r.a.createElement("label",{className:"form__field"},r.a.createElement("input",{className:"form__input form__input_type_name",id:"name-input",type:"text",title:"Name",name:"name",value:"",placeholder:"Name",required:!0,minLength:"2",maxLength:"40",pattern:"^[A-Za-z]+[A-Za-z -]{1,}"}),r.a.createElement("span",{className:"form__input-error form__input-error_active",id:"name-input-error"})),r.a.createElement("label",{className:"form__field"},r.a.createElement("input",{className:"form__input form__input_type_about",id:"about-input",type:"text",title:"About Me",name:"about",value:"",placeholder:"About Me",minLength:"2",maxLength:"200",required:!0}),r.a.createElement("span",{className:"form__input-error form__input-error_active",id:"about-input-error"})),r.a.createElement("button",{className:"form__submit-button"},"Save"))),r.a.createElement(N,{name:"add-place",title:"New Place",isOpen:_,onClose:P},r.a.createElement("form",{action:"#",className:"form",name:"edit-profile",noValidate:!0},r.a.createElement("label",{className:"form__field"},r.a.createElement("input",{className:"form__input form__input_type_name",id:"name-input",type:"text",title:"Name",name:"name",value:"",placeholder:"Name",required:!0,minLength:"2",maxLength:"40",pattern:"^[A-Za-z]+[A-Za-z -]{1,}"}),r.a.createElement("span",{className:"form__input-error form__input-error_active",id:"name-input-error"})),r.a.createElement("label",{className:"form__field"},r.a.createElement("input",{className:"form__input form__input_type_about",id:"about-input",type:"text",title:"About Me",name:"about",value:"",placeholder:"About Me",minLength:"2",maxLength:"200",required:!0}),r.a.createElement("span",{className:"form__input-error form__input-error_active",id:"about-input-error"})),r.a.createElement("button",{className:"form__submit-button"},"Save"))),r.a.createElement(N,{name:"delete",title:"Are you sure?",isOpen:k,onClose:P},r.a.createElement("form",{action:"#",className:"form",name:"delete-card",noValidate:!0},r.a.createElement("button",{className:"form__submit-button form__submit-button_confirm"},"Yes"))),r.a.createElement(g,{card:O,onClose:P})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,a){},7:function(e,t,a){e.exports=a.p+"static/media/logo.b797581b.svg"}},[[12,1,2]]]);
//# sourceMappingURL=main.66ac813d.chunk.js.map